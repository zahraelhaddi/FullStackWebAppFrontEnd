<div class="container">
    <!-- Page Heading -->


    <!-- DataTales Example -->
    <!-- <div class="card shadow mb-4">
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">Liste Agences</h6>
        </div> -->
    <div class="container">
        <div *ngFor="let transfer of transfers" class="card mb-3">
            <div class="card-header" data-toggle="collapse" [attr.data-target]="'#collapse' + transfer.transfer_id">
                Transfer ID: {{ transfer.transfer_id }}
            </div>
            <div [id]="'collapse' + transfer.transfer_id" class="collapse">
                <div class="card-body">
                    <p>User: {{ transfer.user_info.fullname }}</p>
                    <p>Email: {{ transfer.user_info.email }}</p>
                    <p>Source Agency: {{ transfer.source_agency.agency_name }} ({{
                        transfer.source_agency.agency_location }})</p>
                    <p>Destination Agency: {{ transfer.destination_agency.agency_name }} ({{
                        transfer.destination_agency.agency_location }})</p>
                    <p>Car Model: {{ transfer.car.model }}</p>
                    <p>Annual Tax: ${{ transfer.car.annual_tax }}</p>
                    <p>Transfer Date: {{ transfer.transfer_date | date }}</p>
                </div>
            </div>
        </div>
        <button class="btn btn-light btn-sm" data-toggle="modal" data-target="#transferModal">
            <i class=" fas fa-exchange-alt fa-sm"></i>
        </button>
    </div>


    <!-- <div class="card-body">
            <div class="table-responsive">
                <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                    <thead>
                        <tr>
                            <th>transfert_id</th>
                            <th>voiture transférée</th>
                            <th>source</th>
                            <th>destination</th>
                            <th>utilisateur_id</th>
                            <th>date transfert</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let transfer  of transfers ">
                            <td>{{ transfer.transfer_id}}</td>
                            <td>{{ transfer.car.car_id }}</td>
                            <td>{{ transfer.source_agency.agency_id }}</td>
                            <td>{{ transfer.destination_agency.agency_id }}</td>
                            <td>{{ transfer.user_info.user_id }}</td>
                            <td>{{ transfer.transfer_date }}</td>

                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div> -->
    <!-- Add this before the closing </body> tag in your index.html -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>




    <router-outlet></router-outlet>


    <div class="modal fade" id="transferModal" tabindex="-1" aria-labelledby="transferModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="transferModalLabel">Transférer</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form #f="ngForm" (ngSubmit)="add(f)">
                        <div class="row">
                            <div class="col-md-6">
                                <!-- agency_name validation -->
                                <div class="form-group">
                                    <label for="transferAgencyName">voiture_id</label>
                                    <input type="number" class="form-control" placeholder="Identifiant de la voiture"
                                        required name="car_id" #agency_id="ngModel" ngModel>
                                </div>

                                <!-- agency_location validation -->
                                <div class="form-group">
                                    <label for="transferAgencyLocation">Agence source</label>
                                    <input type="number" class="form-control" placeholder="source" required
                                        name="source" #source="ngModel" ngModel>
                                </div>


                                <div class="form-group">
                                    <label for="transferAgencyLocation">Agence Destination</label>
                                    <input type="number" class="form-control" placeholder="source" required
                                        name="destination" #destination="ngModel" ngModel>
                                </div>

                                <div class="form-group">
                                    <label for="transferAgencyLocation">utilisateur_id</label>
                                    <input type="number" class="form-control" placeholder="user_id" required
                                        name="user_id" #user_id="ngModel" ngModel>
                                </div>
                                <div class="top-alerts">
                                    <div class="alert-container" *ngIf="messageSuccess">
                                        <div class="alert alert-success">
                                            {{ messageSuccess.msg }}
                                        </div>
                                    </div>
                                    <div class="alert-container" *ngIf="messageErr">
                                        <div class="alert alert-danger">
                                            {{ messageErr.error }}
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>
                        <button class="btn btn-primary responsive-btn">Enregistrer</button>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>